import{r as p,a as le,c as K,V as R,O as de}from"./vendor-C7i_txpd.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var B={exports:{}},I={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ue=p,me=Symbol.for("react.element"),pe=Symbol.for("react.fragment"),xe=Object.prototype.hasOwnProperty,he=ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ge={key:!0,ref:!0,__self:!0,__source:!0};function G(t,s,n){var o,r={},i=null,d=null;n!==void 0&&(i=""+n),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(d=s.ref);for(o in s)xe.call(s,o)&&!ge.hasOwnProperty(o)&&(r[o]=s[o]);if(t&&t.defaultProps)for(o in s=t.defaultProps,s)r[o]===void 0&&(r[o]=s[o]);return{$$typeof:me,type:t,key:i,ref:d,props:r,_owner:he.current}}I.Fragment=pe;I.jsx=G;I.jsxs=G;B.exports=I;var e=B.exports,J,$=le;J=$.createRoot,$.hydrateRoot;const M={currentUser:null,isAdmin:!1,isAuthenticated:!1},V=new Set,L={},W=p.createContext({appState:M,login:async()=>!1,logout:async()=>{}}),C=()=>p.useContext(W),fe=({children:t})=>{const[s,n]=p.useState(M),[o,r]=p.useState(!0),i=window.supabase;p.useEffect(()=>{(async()=>{try{const g=await i.from("active_students").select("*").limit(1);g.error?(console.warn("Problème de connexion à Supabase:",g.error),r(!1)):(console.log("Connexion à Supabase établie"),r(!0))}catch(g){console.error("Erreur lors de la vérification de la connexion Supabase:",g),r(!1)}})()},[i]);const d=async a=>{if(V.has(a.toLowerCase()))return!0;if(!o)return!1;try{const{data:g,error:b}=await i.from("active_students").select("has_completed").eq("student_name",a).maybeSingle();if(b)return console.error("Erreur lors de la vérification du statut de l'étudiant:",b),!1;const y=g;return y&&y.has_completed?(V.add(a.toLowerCase()),!0):!1}catch(g){return console.error("Erreur lors de la vérification du statut de l'étudiant:",g),!1}},h=async(a,g)=>{if(!g){if(L[a.id]={student_id:a.id,student_name:a.name,status:"connected",cheating_attempts:0,connected_at:new Date().toISOString(),last_activity:new Date().toISOString(),has_completed:!1},!o){console.log(`Étudiant ${a.name} enregistré localement (Supabase non disponible)`);return}try{const{data:b,error:y}=await i.from("active_students").select("*").eq("student_name",a.name).maybeSingle();if(y&&y.code!=="PGRST116"){console.error("Erreur lors de la vérification de l'étudiant:",y);return}const f=b;if(f){const N=await i.from("active_students").update({status:"connected",last_activity:new Date().toISOString()}).eq("student_id",f.student_id).single();if(N.error){console.error("Erreur lors de la mise à jour de l'étudiant:",N.error);return}console.log(`Étudiant ${a.name} mis à jour dans Supabase`)}else{const N=await i.from("active_students").insert({student_id:a.id,student_name:a.name,status:"connected",cheating_attempts:0,connected_at:new Date().toISOString(),last_activity:new Date().toISOString(),has_completed:!1});if(N.error){console.error("Erreur lors de l'insertion de l'étudiant:",N.error);return}console.log(`Étudiant ${a.name} enregistré dans Supabase`)}}catch(b){console.error("Erreur lors de l'enregistrement de l'étudiant dans Supabase:",b)}}},u=async(a,g,b=!1)=>{if(a){if(L[a.id]&&(L[a.id].status=g,L[a.id].last_activity=new Date().toISOString(),L[a.id].has_completed=b),!o){console.log(`Statut de l'étudiant ${a.name} mis à jour localement: ${g}`);return}try{const y=await i.from("active_students").update({status:g,last_activity:new Date().toISOString(),has_completed:b}).eq("student_id",a.id).single();if(y.error){console.error("Erreur lors de la mise à jour du statut:",y.error);return}console.log(`Statut de l'étudiant ${a.name} mis à jour: ${g}`)}catch(y){console.error("Erreur lors de la mise à jour du statut de l'étudiant:",y)}}};p.useEffect(()=>{if(!s.isAuthenticated)return;(async()=>{s.currentUser&&!s.isAdmin&&await u(s.currentUser,"in_progress")})()},[s.isAuthenticated,s.currentUser,s.isAdmin]);const j=async(a,g=!1)=>{const b=a.trim();if(!g&&await d(b))return K.error("Vous avez déjà passé cette évaluation. Vous ne pouvez pas la repasser."),!1;const y={id:Date.now().toString(),name:b};return await h(y,g),n({currentUser:y,isAdmin:g,isAuthenticated:!0}),!0},w=async()=>{try{s.currentUser&&!s.isAdmin&&(V.add(s.currentUser.name.toLowerCase()),await u(s.currentUser,"completed",!0))}catch(a){console.error("Erreur lors de la déconnexion:",a)}finally{n(M)}};return e.jsx(W.Provider,{value:{appState:s,login:j,logout:w},children:t})},be=()=>{const[t,s]=p.useState(""),[n,o]=p.useState(""),[r,i]=p.useState(!1),{login:d}=C(),h=u=>{u.preventDefault(),t.trim()&&d(t,n==="admin123")&&(s(""),o(""))};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"ESGIS Exam Platform"}),e.jsx("p",{className:"text-gray-600",children:"Virtualization Cloud & Datacenter Advanced"})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),e.jsx("input",{type:"text",id:"name",value:t,onChange:u=>s(u.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Entrez votre nom complet",required:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"admin-toggle",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",checked:r,onChange:()=>i(!r)}),e.jsx("label",{htmlFor:"admin-toggle",className:"ml-2 block text-sm text-gray-700",children:"Je suis un administrateur"})]}),r&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"adminCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Code administrateur"}),e.jsx("input",{type:"password",id:"adminCode",value:n,onChange:u=>o(u.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Entrez le code administrateur"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200",children:"Se connecter"})})]})]})})};var k=(t=>(t.NOT_STARTED="NOT_STARTED",t.IN_PROGRESS="IN_PROGRESS",t.COMPLETED="COMPLETED",t))(k||{});const ye=[{id:"q1",text:"Quelle technologie permet d'exécuter plusieurs systèmes d'exploitation sur une même machine physique ?",options:["L'émulation","La virtualisation","La containerisation","Le clustering"],correctAnswer:1},{id:"q2",text:"Quel composant logiciel permet de créer et de gérer des machines virtuelles ?",options:["Container Engine","Broker d'API","Hyperviseur","Orchestrateur"],correctAnswer:2},{id:"q3",text:"Qu'est-ce que la virtualisation matérielle assistée ?",options:["Une virtualisation qui ne fonctionne qu'avec du matériel spécifique","Une technique utilisant des extensions du processeur pour accélérer la virtualisation","L'émulation complète du matériel physique","Un type de virtualisation basée uniquement sur des logiciels"],correctAnswer:1},{id:"q4",text:"Quelle est la principale différence entre un hyperviseur de type 1 et un hyperviseur de type 2 ?",options:["Le type 1 s'exécute directement sur le matériel, le type 2 sur un système d'exploitation hôte","Le type 1 est open source, le type 2 est propriétaire","Le type 1 supporte uniquement Linux, le type 2 est multi-plateforme","Le type 1 est plus ancien que le type 2"],correctAnswer:0},{id:"q5",text:"Qu'est-ce que la migration à chaud (live migration) d'une machine virtuelle ?",options:["Le déplacement d'une VM d'un hôte à un autre sans interruption de service","La sauvegarde à chaud des données d'une VM","L'ajout de ressources à une VM pendant son fonctionnement","Le redimensionnement automatique d'une VM selon sa charge"],correctAnswer:0},{id:"q6",text:"Quel modèle de service cloud fournit uniquement l'infrastructure de calcul, réseau et stockage ?",options:["SaaS","PaaS","IaaS","FaaS"],correctAnswer:2},{id:"q7",text:"Quelle caractéristique du cloud computing permet aux utilisateurs de payer uniquement pour les ressources qu'ils consomment ?",options:["Multi-tenancy","Elasticité","Pay-as-you-go","Self-service"],correctAnswer:2},{id:"q8",text:"Quel type de cloud est utilisé exclusivement par une seule organisation ?",options:["Cloud public","Cloud privé","Cloud hybride","Cloud communautaire"],correctAnswer:1},{id:"q9",text:"Qu'est-ce que le 'cloud bursting' ?",options:["Une faille de sécurité dans le cloud","Une technique permettant d'utiliser des ressources cloud publiques lorsque le cloud privé atteint sa capacité maximale","Une méthode de compression des données dans le cloud","Une technologie de diffusion de contenu"],correctAnswer:1},{id:"q10",text:"Quel service d'AWS fournit des machines virtuelles ?",options:["S3","EC2","RDS","Lambda"],correctAnswer:1},{id:"q11",text:"Quelle commande Docker permet de créer et démarrer un conteneur en mode détaché ?",options:["docker run -d","docker start --background","docker create --detach","docker launch -bg"],correctAnswer:0},{id:"q12",text:"Quelle est la principale différence entre une machine virtuelle et un conteneur ?",options:["Les conteneurs partagent le même noyau OS que l'hôte","Les conteneurs sont toujours plus rapides que les VMs","Les VMs ne peuvent exécuter qu'un seul processus","Les conteneurs nécessitent plus de ressources que les VMs"],correctAnswer:0},{id:"q13",text:"Quel fichier est utilisé pour définir la construction d'une image Docker ?",options:["docker-compose.yml","Containerfile","Dockerfile","image.conf"],correctAnswer:2},{id:"q14",text:"Qu'est-ce qu'un registre de conteneurs ?",options:["Un service qui stocke et distribue des images de conteneurs","Un outil qui surveille les conteneurs en cours d'exécution","Une base de données qui garde une trace des performances des conteneurs","Un service qui génère des rapports sur l'utilisation des conteneurs"],correctAnswer:0},{id:"q15",text:"Quelle commande permet de lister tous les conteneurs Docker en cours d'exécution ?",options:["docker ps","docker list","docker show","docker images"],correctAnswer:0},{id:"q16",text:"Quel est le principal objectif d'un orchestrateur de conteneurs ?",options:["Automatiser le déploiement, la mise à l'échelle et la gestion des applications conteneurisées","Créer des images de conteneurs","Remplacer complètement les VMs traditionnelles","Stocker les données des applications"],correctAnswer:0},{id:"q17",text:"Qu'est-ce qu'un pod dans Kubernetes ?",options:["Un cluster de nœuds worker","La plus petite unité déployable qui peut contenir un ou plusieurs conteneurs","Un serveur maître qui gère le cluster","Un volume de stockage persistant"],correctAnswer:1},{id:"q18",text:"Quelle fonction remplit un service dans Kubernetes ?",options:["Il expose une application s'exécutant sur un ensemble de pods","Il fournit une interface graphique pour Kubernetes","Il gère l'authentification des utilisateurs","Il déploie automatiquement les mises à jour logicielles"],correctAnswer:0},{id:"q19",text:"Comment appelle-t-on un ensemble de pods gérés comme une seule entité qui garantit qu'un nombre spécifié de répliques s'exécute à tout moment ?",options:["StatefulSet","DaemonSet","ReplicaSet","CronJob"],correctAnswer:2},{id:"q20",text:"Qu'est-ce que Helm dans l'écosystème Kubernetes ?",options:["Un gestionnaire de packages pour Kubernetes","Un outil de monitoring","Un service de stockage","Un système d'authentification"],correctAnswer:0},{id:"q21",text:"Qu'est-ce qu'un cluster informatique ?",options:["Un ensemble de machines travaillant ensemble comme un système unique","Une technique de stockage redondant","Un réseau isolé pour des raisons de sécurité","Un groupement d'utilisateurs ayant les mêmes privilèges"],correctAnswer:0},{id:"q22",text:"Quel terme désigne la capacité d'un système à continuer à fonctionner en cas de panne d'un composant ?",options:["Élasticité","Scalabilité","Résilience","Consistance"],correctAnswer:2},{id:"q23",text:"Quelle métrique mesure le pourcentage de temps pendant lequel un système est opérationnel ?",options:["Temps moyen entre pannes (MTBF)","Temps moyen de réparation (MTTR)","Disponibilité","Taux de défaillance"],correctAnswer:2},{id:"q24",text:"Qu'est-ce que la répartition de charge (load balancing) ?",options:["La distribution du trafic réseau sur plusieurs serveurs","L'équilibrage des coûts entre différents fournisseurs cloud","La répartition des tâches administratives entre différentes équipes","L'allocation dynamique de la mémoire"],correctAnswer:0},{id:"q25",text:"Quelle commande Kubernetes permet d'afficher les informations détaillées sur un pod spécifique ?",options:["kubectl inspect pod [nom-du-pod]","kubectl describe pod [nom-du-pod]","kubectl info pod [nom-du-pod]","kubectl show pod [nom-du-pod]"],correctAnswer:1},{id:"q26",text:"Qu'est-ce que le SDN (Software-Defined Networking) ?",options:["Une approche qui sépare le plan de contrôle du plan de données dans les réseaux","Un protocole de routage spécifique","Un type de firewall virtuel","Un système d'exploitation réseau"],correctAnswer:0},{id:"q27",text:"Qu'est-ce qu'un réseau overlay ?",options:["Un réseau virtuel construit par-dessus un réseau physique existant","Un réseau physique redondant","Un réseau de diffusion de contenu","Un réseau sans fil maillé"],correctAnswer:0},{id:"q28",text:"Quelle technologie permet la création de réseaux virtuels isolés au sein d'une infrastructure cloud ?",options:["VPN","VPC (Virtual Private Cloud)","VRF (Virtual Routing and Forwarding)","MPLS"],correctAnswer:1},{id:"q29",text:"Qu'est-ce qu'un NSX dans l'écosystème VMware ?",options:["Une plateforme de virtualisation de serveurs","Une solution de virtualisation du réseau et de la sécurité","Un système de stockage virtuel","Un outil de surveillance des performances"],correctAnswer:1},{id:"q30",text:"Quel protocole est souvent utilisé pour l'encapsulation du trafic dans les réseaux overlay ?",options:["VXLAN","HTTP","FTP","SMTP"],correctAnswer:0},{id:"q31",text:"Qu'est-ce que le SAN (Storage Area Network) ?",options:["Un réseau dédié au stockage qui fournit l'accès au stockage au niveau des blocs","Un système de stockage basé sur le cloud","Un dispositif de sauvegarde automatique","Un système de fichiers distribué"],correctAnswer:0},{id:"q32",text:"Quelle technologie permet de présenter le stockage comme des fichiers partagés sur un réseau ?",options:["SAN","NAS (Network Attached Storage)","DAS (Direct Attached Storage)","Object Storage"],correctAnswer:1},{id:"q33",text:"Qu'est-ce que le thin provisioning ?",options:["L'allocation dynamique d'espace de stockage selon les besoins réels","Un type de compression de données","Une technique de chiffrement du stockage","Un système de quotas pour limiter l'utilisation"],correctAnswer:0},{id:"q34",text:"Quelle commande Docker permet de lister les volumes disponibles ?",options:["docker volume ls","docker ls volumes","docker show volumes","docker volumes list"],correctAnswer:0},{id:"q35",text:"Qu'est-ce qu'un volume persistant dans Kubernetes ?",options:["Un composant de cluster qui gère l'authentification","Une ressource de stockage qui existe indépendamment du cycle de vie des pods","Un nœud spécialisé dans le stockage de données","Un système de journalisation persistant"],correctAnswer:1},{id:"q36",text:"Qu'est-ce que l'isolation des ressources dans un environnement virtualisé ?",options:["La séparation physique des serveurs","L'assurance que les VMs ou conteneurs ne peuvent pas accéder aux ressources des autres","Le chiffrement complet des données","La restriction d'accès Internet pour les VMs"],correctAnswer:1},{id:"q37",text:"Quelle commande Kubernetes permet de créer un objet à partir d'un fichier YAML ?",options:["kubectl generate -f fichier.yaml","kubectl create -f fichier.yaml","kubectl apply -f fichier.yaml","kubernetes start -f fichier.yaml"],correctAnswer:2},{id:"q38",text:"Qu'est-ce qu'une politique de sécurité réseau dans Kubernetes ?",options:["Une règle qui spécifie les communications réseau autorisées entre les pods","Un document de conformité obligatoire","Un protocole de chiffrement pour les communications inter-clusters","Un système d'authentification pour l'accès aux nœuds"],correctAnswer:0},{id:"q39",text:"Qu'est-ce que le principe du moindre privilège dans un contexte cloud ?",options:["Octroyer uniquement les droits minimums nécessaires pour accomplir une tâche","Utiliser le cloud le moins cher possible","Minimiser le nombre d'applications déployées","Réduire la consommation d'énergie des datacenters"],correctAnswer:0},{id:"q40",text:"Quelle commande Docker permet d'inspecter les métadonnées et configurations d'un conteneur ?",options:["docker show","docker inspect","docker analyze","docker metadata"],correctAnswer:1}],ve=()=>{const t=[...ye];for(let s=t.length-1;s>0;s--){const n=Math.floor(Math.random()*(s+1));[t[s],t[n]]=[t[n],t[s]]}return t};class P{constructor(s=0,n="Network Error"){this.status=s,this.text=n}}const we=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,s)=>Promise.resolve(localStorage.setItem(t,s)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},S={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:we()},F=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},je=(t,s="https://api.emailjs.com")=>{if(!t)return;const n=F(t);S.publicKey=n.publicKey,S.blockHeadless=n.blockHeadless,S.storageProvider=n.storageProvider,S.blockList=n.blockList,S.limitRate=n.limitRate,S.origin=n.origin||s},Z=async(t,s,n={})=>{const o=await fetch(S.origin+t,{method:"POST",headers:n,body:s}),r=await o.text(),i=new P(o.status,r);if(o.ok)return i;throw i},X=(t,s,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!s||typeof s!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Se=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Y=t=>t.webdriver||!t.languages||t.languages.length===0,ee=()=>new P(451,"Unavailable For Headless Browser"),Ne=(t,s)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof s!="string")throw"The BlockList watchVariable has to be a string"},qe=t=>{var s;return!((s=t.list)!=null&&s.length)||!t.watchVariable},Ae=(t,s)=>t instanceof FormData?t.get(s):t[s],te=(t,s)=>{if(qe(t))return!1;Ne(t.list,t.watchVariable);const n=Ae(s,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},se=()=>new P(403,"Forbidden"),ke=(t,s)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(s&&typeof s!="string")throw"The LimitRate ID has to be a non-empty string"},Ee=async(t,s,n)=>{const o=Number(await n.get(t)||0);return s-Date.now()+o},re=async(t,s,n)=>{if(!s.throttle||!n)return!1;ke(s.throttle,s.id);const o=s.id||t;return await Ee(o,s.throttle,n)>0?!0:(await n.set(o,Date.now().toString()),!1)},ne=()=>new P(429,"Too Many Requests"),_e=async(t,s,n,o)=>{const r=F(o),i=r.publicKey||S.publicKey,d=r.blockHeadless||S.blockHeadless,h=r.storageProvider||S.storageProvider,u={...S.blockList,...r.blockList},j={...S.limitRate,...r.limitRate};return d&&Y(navigator)?Promise.reject(ee()):(X(i,t,s),Se(n),n&&te(u,n)?Promise.reject(se()):await re(location.pathname,j,h)?Promise.reject(ne()):Z("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:t,template_id:s,template_params:n}),{"Content-type":"application/json"}))},Re=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},Ce=t=>typeof t=="string"?document.querySelector(t):t,Te=async(t,s,n,o)=>{const r=F(o),i=r.publicKey||S.publicKey,d=r.blockHeadless||S.blockHeadless,h=S.storageProvider||r.storageProvider,u={...S.blockList,...r.blockList},j={...S.limitRate,...r.limitRate};if(d&&Y(navigator))return Promise.reject(ee());const w=Ce(n);X(i,t,s),Re(w);const a=new FormData(w);return te(u,a)?Promise.reject(se()):await re(location.pathname,j,h)?Promise.reject(ne()):(a.append("lib_version","4.4.1"),a.append("service_id",t),a.append("template_id",s),a.append("user_id",i),Z("/api/v1.0/email/send-form",a))},oe={init:je,send:_e,sendForm:Te,EmailJSResponseStatus:P},ie=p.createContext({questions:[],currentQuestionIndex:0,userAnswers:{},quizStatus:k.NOT_STARTED,cheatingAttempts:0,timer:{minutes:120,seconds:0},startQuiz:()=>{},endQuiz:()=>{},answerQuestion:()=>{},goToNextQuestion:()=>{},goToPreviousQuestion:()=>{},calculateScore:()=>0,reportCheatingAttempt:()=>{},quizResults:[]}),U=()=>p.useContext(ie);oe.init("MZdbJf09JZqvMG5M_");const H=({children:t})=>{const{appState:s}=C(),[n,o]=p.useState([]),[r,i]=p.useState(0),[d,h]=p.useState({}),[u,j]=p.useState(k.NOT_STARTED),[w,a]=p.useState(0),[g,b]=p.useState([]),[y,f]=p.useState({minutes:120,seconds:0}),N=window.supabase;p.useEffect(()=>{(async()=>{try{const{data:x,error:m}=await N.from("quiz_results").select("*");if(m){console.error("Erreur lors de la récupération des résultats:",m),R.error("Erreur lors de la récupération des résultats");return}x&&b(x)}catch(x){console.error("Erreur inattendue:",x),R.error("Erreur lors de la récupération des résultats")}})()},[]);const q=async l=>{try{const x={to_email:"florifavi@gmail.com",student_name:l.studentName,score:l.score.toFixed(1),max_score:l.maxScore,percentage:(l.score/l.maxScore*100).toFixed(1),cheating_attempts:l.cheatingAttempts,completion_date:new Date(l.completedAt).toLocaleString()};await oe.send("service_default","template_default",x),R.success("Résultats envoyés à l'administrateur")}catch(x){console.error("Erreur lors de l'envoi de l'email:",x),R.error("Erreur lors de l'envoi des résultats")}};p.useEffect(()=>{let l;return u===k.IN_PROGRESS&&y.minutes>=0&&(l=setInterval(()=>{f(x=>x.minutes===0&&x.seconds===0?(clearInterval(l),Q(),x):x.seconds===0?{minutes:x.minutes-1,seconds:59}:{minutes:x.minutes,seconds:x.seconds-1})},1e3)),()=>{l&&clearInterval(l)}},[u,y]);const T=()=>{const l=ve();o(l),h({}),i(0),a(0),f({minutes:120,seconds:0}),j(k.IN_PROGRESS)},Q=()=>{if(s.currentUser&&u===k.IN_PROGRESS){const l=v(),x={studentId:s.currentUser.id,studentName:s.currentUser.name,score:l,maxScore:n.length*.5,answers:{...d},cheatingAttempts:w,completedAt:new Date().toISOString()};(async()=>{try{const{error:A}=await N.from("quiz_results").insert([x]);if(A){console.error("Erreur lors de l'enregistrement du résultat:",A),R.error("Erreur lors de l'enregistrement du résultat"),b(E=>[...E,x]);return}R.success("Résultat enregistré avec succès"),b(E=>[...E,x])}catch(A){console.error("Erreur inattendue:",A),R.error("Erreur lors de l'enregistrement du résultat"),b(E=>[...E,x])}})(),j(k.COMPLETED),q(x)}},D=(l,x)=>{u===k.IN_PROGRESS&&h(m=>({...m,[l]:x}))},O=()=>{r<n.length-1&&i(l=>l+1)},c=()=>{r>0&&i(l=>l-1)},v=()=>{if(n.length===0)return 0;let l=0;return n.forEach(x=>{d[x.id]===x.correctAnswer&&l++}),l*.5},_=()=>{a(l=>l+1)};return e.jsx(ie.Provider,{value:{questions:n,currentQuestionIndex:r,userAnswers:d,quizStatus:u,cheatingAttempts:w,timer:y,startQuiz:T,endQuiz:Q,answerQuestion:D,goToNextQuestion:O,goToPreviousQuestion:c,calculateScore:v,reportCheatingAttempt:_,quizResults:g},children:t})},Qe=({question:t})=>{const{userAnswers:s,answerQuestion:n}=U(),o=s[t.id],r=i=>{n(t.id,i)};return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:t.text}),e.jsx("div",{className:"space-y-3",children:t.options.map((i,d)=>e.jsx("div",{className:`p-4 border rounded-md cursor-pointer transition-all duration-200 hover:border-blue-400 ${o===d?"border-blue-500 bg-blue-50":"border-gray-300"}`,onClick:()=>r(d),children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`h-5 w-5 rounded-full border mr-3 flex items-center justify-center ${o===d?"border-blue-500 bg-blue-500":"border-gray-400"}`,children:o===d&&e.jsx("div",{className:"h-2 w-2 rounded-full bg-white"})}),e.jsx("span",{className:"text-gray-700",children:i})]})},d))})]})},Le=()=>{const{questions:t,currentQuestionIndex:s,userAnswers:n,goToNextQuestion:o,goToPreviousQuestion:r,endQuiz:i}=U(),d=s===0,h=s===t.length-1,u=t.length>0?(Object.keys(n).length/t.length*100).toFixed(0):"0";return e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Question ",s+1," sur ",t.length]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Progression: ",u,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-6",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-in-out",style:{width:`${u}%`}})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:r,disabled:d,className:`px-4 py-2 rounded-md ${d?"bg-gray-300 cursor-not-allowed":"bg-gray-600 hover:bg-gray-700 text-white"} transition-colors duration-200`,children:"Précédent"}),h?e.jsx("button",{onClick:i,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors duration-200",children:"Terminer"}):e.jsx("button",{onClick:o,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200",children:"Suivant"})]})]})},Pe=()=>{var a;const{questions:t,userAnswers:s,calculateScore:n,cheatingAttempts:o}=U(),{appState:r,logout:i}=C(),d=n(),h=t.length*.5,u=d/h*100,j=t.filter(g=>s[g.id]===g.correctAnswer).length,w=()=>u>=80?"text-green-600":u>=60?"text-yellow-600":"text-red-600";return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsx("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Résultats du Quiz"}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("p",{className:"text-gray-700",children:"Étudiant:"}),e.jsx("p",{className:"font-medium",children:(a=r.currentUser)==null?void 0:a.name})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("p",{className:"text-gray-700",children:"Note finale:"}),e.jsxs("p",{className:`text-2xl font-bold ${w()}`,children:[d.toFixed(1),"/20"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("p",{className:"text-gray-700",children:"Réponses correctes:"}),e.jsxs("p",{className:"font-medium",children:[j," sur ",t.length]})]}),o>0&&e.jsxs("div",{className:"flex justify-between items-center mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:[e.jsx("p",{className:"text-red-700",children:"Tentatives de triche détectées:"}),e.jsx("p",{className:"font-medium text-red-700",children:o})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-6",children:e.jsx("div",{className:`h-4 rounded-full ${u>=80?"bg-green-500":u>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${u}%`}})}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("button",{onClick:i,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200",children:"Terminer"})})]})})})},Ue=()=>{var b;const{appState:t}=C(),{questions:s,currentQuestionIndex:n,quizStatus:o,timer:r,startQuiz:i,reportCheatingAttempt:d}=U(),h=p.useRef(null),u=p.useRef(!1),j=new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3");p.useEffect(()=>{o===k.NOT_STARTED&&i();const y=setTimeout(()=>{o===k.IN_PROGRESS&&(console.log("Test d'alerte après 5 secondes"),w(`⚠️ TEST ALERTE ⚠️

Ceci est un test pour vérifier que l'alerte fonctionne correctement.`))},5e3);return()=>clearTimeout(y)},[o,i]);const w=y=>{console.log("Affichage de l'alerte personnalisée:",y),h.current&&document.body.contains(h.current)&&(document.body.removeChild(h.current),h.current=null);const f=document.createElement("div");f.style.position="fixed",f.style.top="0",f.style.left="0",f.style.width="100%",f.style.height="100%",f.style.backgroundColor="rgba(255, 0, 0, 0.9)",f.style.color="white",f.style.display="flex",f.style.flexDirection="column",f.style.justifyContent="center",f.style.alignItems="center",f.style.zIndex="99999",f.style.fontWeight="bold",f.style.fontSize="24px",f.style.textAlign="center",f.style.padding="20px";const N=document.createElement("div");N.innerHTML=y.replace(/\n/g,"<br>"),N.style.marginBottom="30px";const q=document.createElement("button");q.textContent="FERMER",q.style.padding="12px 24px",q.style.backgroundColor="white",q.style.color="red",q.style.border="none",q.style.borderRadius="5px",q.style.fontWeight="bold",q.style.fontSize="18px",q.style.cursor="pointer",q.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.3)",q.onclick=()=>{h.current&&document.body.contains(h.current)&&(document.body.removeChild(h.current),h.current=null)},f.appendChild(N),f.appendChild(q),document.body.appendChild(f),h.current=f,j.play().catch(T=>console.error("Erreur lors de la lecture du son:",T))},a=()=>{console.log("Triche détectée! Visibilité:",document.visibilityState),u.current=!0,d(),w(`⚠️ ALERTE DE SÉCURITÉ ⚠️

TENTATIVE DE TRICHE DÉTECTÉE !

Cet incident a été enregistré et sera signalé à l'administration.

Votre session est surveillée.`),K.error("⚠️ TENTATIVE DE TRICHE DÉTECTÉE !",{duration:12e4,position:"top-center",style:{background:"#fee2e2",color:"#991b1b",fontWeight:"bold",fontSize:"1.1em",padding:"16px",border:"2px solid #dc2626",zIndex:9999},icon:"⚠️"})};if(p.useEffect(()=>{console.log("Configuration de la détection de changement d'onglet");const y=()=>{console.log("Changement de visibilité détecté:",document.visibilityState),document.visibilityState==="hidden"&&o===k.IN_PROGRESS&&(console.log("Tentative de triche détectée - changement d'onglet"),a())},f=()=>{console.log("Événement blur détecté"),o===k.IN_PROGRESS&&(console.log("Tentative de triche détectée - perte de focus"),a())};document.addEventListener("visibilitychange",y),window.addEventListener("blur",f);const N=setInterval(()=>{document.visibilityState==="hidden"&&o===k.IN_PROGRESS&&(console.log("Tentative de triche détectée - vérification périodique"),a())},2e3);return()=>{document.removeEventListener("visibilitychange",y),window.removeEventListener("blur",f),clearInterval(N),h.current&&document.body.contains(h.current)&&(document.body.removeChild(h.current),h.current=null)}},[o,d,j]),o===k.COMPLETED)return e.jsx(Pe,{});if(s.length===0)return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des questions..."})]})});const g=s[n];return e.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:[e.jsx(de,{position:"top-center",toastOptions:{duration:5e3,style:{zIndex:9999}}}),e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("header",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Quiz: Virtualization Cloud & Datacenter"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`text-lg font-semibold ${r.minutes<30?"text-red-600":"text-gray-600"}`,children:["Temps restant: ",String(r.minutes).padStart(2,"0"),":",String(r.seconds).padStart(2,"0")]}),e.jsx("div",{className:"text-gray-600",children:(b=t.currentUser)==null?void 0:b.name})]})]})}),e.jsx("button",{onClick:()=>a(),className:"mb-4 bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded",children:"Tester l'alerte de triche"}),e.jsx(Qe,{question:g}),e.jsx(Le,{})]})]})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Oe=(t,s)=>{const n=p.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:h="",children:u,...j},w)=>p.createElement("svg",{ref:w,...Ie,width:r,height:r,stroke:o,strokeWidth:d?Number(i)*24/Number(r):i,className:["lucide",`lucide-${De(t)}`,h].join(" "),...j},[...s.map(([a,g])=>p.createElement(a,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=Oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ve=()=>{const{quizResults:t,timer:s}=U(),{logout:n}=C(),[o,r]=p.useState([]),[i,d]=p.useState([]),[h,u]=p.useState(!0),[j,w]=p.useState(null),[a,g]=p.useState(!0),b=window.supabase;p.useEffect(()=>{r(t||[]),(async()=>{try{const{error:m}=await b.from("quiz_results").select("count(*)",{count:"exact",head:!0}).limit(1);m?(console.warn("Problème de connexion à Supabase:",m),g(!1),w("Impossible de se connecter à la base de données. Affichage des données locales uniquement.")):(console.log("Connexion à Supabase établie"),g(!0))}catch(m){console.error("Erreur lors de la vérification de la connexion Supabase:",m),g(!1),w("Erreur de connexion à la base de données. Affichage des données locales uniquement.")}})();const v=async()=>{if(a)try{const{data:m,error:A}=await b.from("quiz_results").select("*");if(A){console.error("Erreur lors de la récupération des résultats:",A);return}m&&r(E=>{const ae=new Set(E.map(z=>z.studentId)),ce=m.filter(z=>!ae.has(z.studentId));return[...E,...ce]})}catch(m){console.error("Erreur inattendue:",m)}},_=async()=>{try{if(u(!0),!a){u(!1);return}const{data:m,error:A}=await b.from("active_students").select("*");if(A){console.error("Erreur lors de la récupération des étudiants actifs:",A),w("Impossible de récupérer les étudiants actifs. Veuillez créer la table manuellement dans Supabase."),u(!1);return}m&&(d(m),w(null))}catch(m){console.error("Erreur inattendue:",m),w("Une erreur inattendue s'est produite. Veuillez rafraîchir la page.")}finally{u(!1)}};v(),_();let l;a&&(l=b.channel("public:quiz_results").on("INSERT",m=>{console.log("Nouveau résultat reçu:",m.new),r(A=>[...A,m.new])}).subscribe());let x;return a&&(x=b.channel("public:active_students").on("INSERT",m=>{console.log("Nouvel étudiant connecté:",m.new),d(A=>[m.new,...A])}).on("UPDATE",m=>{console.log("Mise à jour étudiant:",m.new),d(A=>A.map(E=>E.student_id===m.new.student_id?m.new:E))}).subscribe()),()=>{l&&l.unsubscribe(),x&&x.unsubscribe()}},[t]);const y=async c=>{try{if(!a){d(x=>x.map(m=>m.student_id===c?{...m,cheating_attempts:(m.cheating_attempts||0)+1}:m));return}const{data:v,error:_}=await b.from("active_students").select("cheating_attempts").eq("student_id",c).single();if(_){console.error("Erreur lors de la récupération des tentatives de triche:",_);return}const l=((v==null?void 0:v.cheating_attempts)||0)+1;await b.from("active_students").update({cheating_attempts:l}).eq("student_id",c),console.log(`Tentative de triche signalée pour l'étudiant ${c}`)}catch(v){console.error("Erreur lors du signalement de triche:",v)}},f=o.length>0?o.reduce((c,v)=>c+v.score,0)/o.length:0,N=[...o].sort((c,v)=>v.score-c.score),q=c=>`${String(c.minutes).padStart(2,"0")}:${String(c.seconds).padStart(2,"0")}`,T=c=>{switch(c){case"connected":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Q=c=>new Date(c).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),D=c=>{const v=new Date(c).getTime(),_=new Date().getTime(),l=Math.floor((_-v)/1e3);return l<60?`${l} sec`:l<3600?`${Math.floor(l/60)} min`:`${Math.floor(l/3600)} h ${Math.floor(l%3600/60)} min`},O=(c,v)=>c/v*20;return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("header",{className:"mb-8 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Tableau de bord administrateur"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(ze,{className:"w-5 h-5"}),e.jsxs("span",{children:["Temps restant: ",q(s)]})]})]}),e.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors duration-200",children:"Déconnexion"})]}),j&&e.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[e.jsx("p",{className:"text-yellow-700",children:j}),e.jsxs("p",{className:"text-sm text-yellow-600 mt-2",children:["Pour résoudre ce problème, veuillez exécuter le script SQL dans l'éditeur SQL de Supabase :",e.jsx("br",{}),e.jsx("code",{className:"bg-yellow-100 px-2 py-1 rounded",children:"scripts/create_active_students_manual.sql"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Étudiants connectés"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:i.length})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Note moyenne"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[f.toFixed(1),"/20"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Tentatives de triche"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:i.reduce((c,v)=>c+(v.cheating_attempts||0),0)})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Résultats des étudiants"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Note"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pourcentage"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Triche"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[N.map(c=>{const v=c.score/c.maxScore*100,_=O(c.score,c.maxScore),l=new Date(c.completedAt).toLocaleString();return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.studentName})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:`text-sm font-medium ${v>=80?"text-green-600":v>=60?"text-yellow-600":"text-red-600"}`,children:[_.toFixed(1),"/20"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[v.toFixed(1),"%"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:`text-sm ${c.cheatingAttempts>0?"text-red-600 font-medium":"text-gray-500"}`,children:c.cheatingAttempts})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l})]},c.studentId)}),o.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Aucun résultat disponible"})})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Étudiants connectés"})}),e.jsx("div",{className:"overflow-x-auto",children:h?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des données..."})]}):e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tentatives de triche"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Connecté à"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dernière activité"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[i.map(c=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.student_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${T(c.status)}`,children:c.status==="connected"?"Connecté":c.status==="in_progress"?"En cours d'examen":"Terminé"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:`text-sm ${c.cheating_attempts>0?"text-red-600 font-medium":"text-gray-500"}`,children:c.cheating_attempts})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Q(c.connected_at)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[D(c.last_activity)," (",Q(c.last_activity),")"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("button",{onClick:()=>y(c.student_id),className:"text-red-600 hover:text-red-900 mr-2",children:"Signaler triche"})})]},c.id||c.student_id)),i.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500",children:j?"Impossible d'afficher les étudiants connectés. Veuillez créer la table manuellement.":"Aucun étudiant connecté"})})]})]})})]})]})})};function Me(){const{appState:t}=C();return t.isAuthenticated?t.isAdmin?e.jsx(H,{children:e.jsx(Ve,{})}):e.jsx(H,{children:e.jsx(Ue,{})}):e.jsx(be,{})}J(document.getElementById("root")).render(e.jsx(p.StrictMode,{children:e.jsx(fe,{children:e.jsx(Me,{})})}));
//# sourceMappingURL=index-BiEXmQ4V.js.map
